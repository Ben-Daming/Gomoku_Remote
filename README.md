# è¯´æ˜æ–‡æ¡£
## 1. æ¦‚è¿°
æœ¬é¡¹ç›®æ˜¯å›½ç§‘å¤§24çº§æœ¬ç§‘ç”Ÿçš„cç¨‹è®¾å¤§ä½œä¸šäº”å­æ£‹å®ç°ã€‚è¯¥ç¨‹åºæœ‰ä»¥ä¸‹åŠŸèƒ½ï¼š
- æ”¯æŒpvp,pveä¸¤ç§ç©æ³•
- æ”¯æŒè‡ªç”±æ— é™åˆ¶å’Œæ ‡å‡†ç¦æ‰‹ï¼ˆå«å¤æ‚è§£ç¦ï¼‰ä¸¤ç§è§„åˆ™
- æ”¯æŒæ‚”æ£‹

## 2. ç›®å½•ç»“æ„
```
Gomoku/
â”œâ”€â”€ Makefile
â”œâ”€â”€ build/                # å¯æ‰§è¡Œæ–‡ä»¶ç›®å½•
â”œâ”€â”€ include/              # å¤´æ–‡ä»¶ç›®å½•
â”‚   â”œâ”€â”€ ai.h
â”‚   â”œâ”€â”€ ascii_art.h
â”‚   â”œâ”€â”€ ascii_art.h
â”‚   â”œâ”€â”€ board.h
â”‚   â”œâ”€â”€ bitboard.h
â”‚   â”œâ”€â”€ evaluate.h
â”‚   â”œâ”€â”€ history.h
â”‚   â”œâ”€â”€ rules.h
â”‚   â”œâ”€â”€ start_helper.h
â”‚   â”œâ”€â”€ tt.h
â”‚   â”œâ”€â”€ types.h
â”‚   â””â”€â”€ zobrist.h
â”œâ”€â”€ src/                  # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ ai.c
â”‚   â”œâ”€â”€ ascii_art.c
â”‚   â”œâ”€â”€ bitboard.c
â”‚   â”œâ”€â”€ board.c
â”‚   â”œâ”€â”€ evaluate.c
â”‚   â”œâ”€â”€ history.c
â”‚   â”œâ”€â”€ main.c
â”‚   â”œâ”€â”€ rules.c
â”‚   â”œâ”€â”€ start_helper.c
â”‚   â”œâ”€â”€ tt.c
â”‚   â””â”€â”€ zobrist.c
â”œâ”€â”€Develop_Doc.md
â””â”€â”€ README.md
```

## 3. æ„å»ºä¸è¿è¡Œ

### ä½¿ç”¨ Makefile
- åœ¨æ ¹ç›®å½•æ‰§è¡Œï¼š
```bash
make
```
- å¸¸ç”¨ targets:
  - `make`: åŸºæœ¬æ„å»ºï¼Œé»˜è®¤å‚æ•°ä¼šå¼€å¯ `-O3 -g -march=native -fopenmp`
  - `make clean`: æ¸…ç†æ„å»ºäº§ç‰©
  - `make release`: äº§å‡ºå¸¦æœ‰ LTO çš„æœ€é«˜ä¼˜åŒ–äºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆMAD flagsï¼‰


### è¿è¡Œ
æœ¬äººä¸ç†Ÿæ‚‰windowsï¼Œä»¥ä¸‹å‘½ä»¤è¡ŒæŒ‡ä»¤åœ¨unixç±»ç³»ç»Ÿä¸­é€šç”¨
```bash
make release
./build/gomoku 
```
æ— å‚æ•°æ—¶ï¼Œé»˜è®¤ä¼šä½¿ç”¨pve+æ ‡å‡†ç¦æ‰‹


```bash
./build/gomoku --mode pvp
```
å¯ä»¥ä½¿ç”¨`--mode`æ¥æ˜¾ç¤ºæŒ‡æ˜é‡‡ç”¨pvp/pveæ¨¡å¼

è‹¥å°è¯•æ— ç¦æ‰‹æ¨¡å¼ï¼Œåˆ™å¯ä»¥ä½¿ç”¨`--rules`æ¥æ˜¾å¼æŒ‡å®šè§„åˆ™é›†ï¼Œä¾‹å¦‚æŒ‡å®šåœ¨æ— ç¦æ‰‹è§„åˆ™ä¸‹pvpå¯¹æˆ˜ï¼š
```bash
./build/gomoku --mode pvp --rules simple 
```

è¾“å…¥`./build/gomoku --help`å¯ä»¥æŸ¥çœ‹ç›¸å…³å‚æ•°

## 4.å¼€å‘è€…
- æœ¬é¡¹ç›®æ¬¢è¿å‚è€ƒä»£ç åŠå‡ºäºå­¦ä¹ ç”¨é€”çš„fork
- å¦‚æœ‰è¿›ä¸€æ­¥å¼€å‘çš„æ„æ„¿ï¼Œå¯ä»¥ä½¿ç”¨é—ç•™çš„å¼€å‘è€…æ¨¡å¼æ„å»ºå’Œè¿è¡Œ
```bash
make debug
./build/gomoku --debug Renju #æµ‹è¯•ç¦æ‰‹çš„debugæ¨¡å¼
```
- å¦‚æœ‰å¹¶å‘ç¼–ç¨‹çš„éœ€æ±‚ï¼Œè¯·è®°å¾—ç§»é™¤`ascii_art`ç›¸å…³çš„å…¨å±€å˜é‡åŸŸ
## 5.æ‚é¡¹
æœ¬é¡¹ç›®çš„éƒ¨åˆ†ä»£ç ä½¿ç”¨äº†çŸ¢é‡åŒ–æŒ‡ä»¤é›†ï¼ˆå¦‚ AVX2ï¼‰å¹¶å¯¹ç¼–è¯‘å™¨åŠ å…¥å‘é‡åŒ–æç¤ºä»¥æé«˜æ€§èƒ½ã€‚å¦‚æœåœ¨ä¸æ”¯æŒè¿™äº›æŒ‡ä»¤é›†çš„ç¯å¢ƒä¸­è¿è¡Œï¼ŒæŸäº›å®ç°ï¼ˆä¾‹å¦‚å‘é‡åŒ–çš„ `evaluateLines4`ï¼‰å¯èƒ½ä¼šè¡¨ç°ä¸ä½³ã€‚ä»“åº“å†å²é‡Œåœ¨æäº¤ `ef918c3aeda1f8761c8b1d6388297dbe207ec2ca` æä¾›äº†ä¸€ä¸ªä¸ä¾èµ–çŸ¢é‡åŒ–æŒ‡ä»¤çš„ `evaluateLines4` å®ç°ï¼Œè‹¥éœ€å°† `src/evaluate.c` æ¢å¤åˆ°è¯¥ç‰ˆæœ¬ï¼Œè¯·è¿è¡Œï¼š
```bash
git restore --source ef918c3aeda1f8761c8b1d6388297dbe207ec2ca -- src/evaluate.c
```
è¯¥ç‰ˆæœ¬çš„å®ç°åœ¨x86æŒ‡ä»¤é›†ï¼Œgccç¼–è¯‘ç¯å¢ƒä¸‹ç›¸æ¯”å‘é‡åŒ–å®ç°ç¨æ…¢äº†5%å·¦å³ï¼Œä½†æ— éœ€çŸ¢é‡åŒ–æŒ‡ä»¤é›†

## 6.é¸£è°¢
- æ„Ÿè°¢[@Squareless-XD](https://github.com/Squareless-XD)çƒ­å¿ƒæä¾›äº”å­æ£‹è§„åˆ™å’Œå¯¹æˆ˜ç»†èŠ‚çš„æŒ‡å¯¼ï¼Œç»™äº†æˆ‘å¾ˆå¤šå¯å‘ï¼Œå¹¶å¼•å‘äº†æˆ‘å¯¹æ£‹ç±»æ¸¸æˆçš„å…´è¶£
- å¼€å±€å®šå¼çš„ç¡¬ç¼–ç ç§»æ¤è‡ª[@Squareless-XD](https://github.com/Squareless-XD)çš„[gomokuä»“åº“](https://github.com/Squareless-XD/2022Fall-UCAS-C-Gomoku)
- [@LucasLan666666](https://github.com/LucasLan666666/)ä¹Ÿçƒ­å¿ƒæä¾›githubä»“åº“å¹¶ç»™æˆ‘å¸¦æ¥æµ‹è¯•aiç”¨ä¾‹å’Œå­—ç¬¦è‰ºæœ¯ç­‰å¯å‘ã€‚æˆ‘åœ¨`main.c`ä¸­ç»˜åˆ¶äº†ä¸€å¹…è¶…å¤©é…±çš„asciiç”»(\^_\^)
- æ­¤å¤–è¿˜æœ‰è¯¸å¤šçƒ­å¿ƒå¸®åŠ©æˆ‘æµ‹è¯•ç¨‹åºçš„å›½ç§‘å¤§åŒå­¦ï¼Œæ„Ÿè°¢ä½ ä»¬æ„¿æ„è…¾å‡ºæ—¶é—´é™ªæˆ‘ä¸€èµ·ç©ğŸ˜­
- æœ€åæ„Ÿè°¢æˆ‘è‡ªå·±ï¼Œé€šè¿‡å®ç°å¤§å­¦ä»¥æ¥ç¬¬ä¸€ä¸ªçœŸæ­£æ„ä¹‰ä¸Šçš„ä¸ªäººé¡¹ç›®ï¼Œè®©è‡ªå·±æ„Ÿåˆ°äº†å¾ˆä¹…æ²¡æœ‰ä½“éªŒè¿‡çš„çœŸå®å¿«ä¹ã€‚
## å‚è€ƒèµ„æ–™
- ä¸€æœ¬å¯¹å¼ˆç±»æ£‹æ¸¸æˆé€šç”¨çš„[ç®€æ˜ç®—æ³•æ•™ç¨‹](https://www.xqbase.com/computer.htm)
- [oi wiki](https://oi-wiki.org/search/alpha-beta/)å¯¹åŸºæœ¬alpha-betaæœç´¢ç®—æ³•çš„ä»‹ç»
- ä¸€ä¸ªå¢å¼ºç®—æ³•å‘æ˜è€…æœ¬äººçš„ä»‹ç»ç½‘é¡µ[mtd(f)](https://people.csail.mit.edu/plaat/mtdf.html)
- åŠ©æ•™[@Squareless-XD](https://github.com/Squareless-XD)çš„[gomokuä»“åº“](https://github.com/Squareless-XD/2022Fall-UCAS-C-Gomoku)